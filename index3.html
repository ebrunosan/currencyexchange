<!DOCTYPE html>
<html>
<head>

</head>
<body>
  <h1>Canada</h1>
  <ul id="canada"></ul>

  <h1>Brazil</h1>
  <ul id="brazil"></ul>
</body>
<script>
/* source-code: https://scotch.io/tutorials/how-to-use-the-javascript-fetch-api-to-get-data#how-do-we-use-the-fetch-api */
/* reference: https://www.taniarascia.com/how-to-use-the-javascript-fetch-api-to-get-json-data/ */

  const ul_canada = document.getElementById('canada'); // Get the list where we will place our users
  const ul_brazil = document.getElementById('brazil'); // Get the list where we will place our users
  const url = 'https://randomuser.me/api/?results=6&nat=ca,br&inc=name,picture,nat'; // Get 6 random users
  
  function createNode(element) {
    return document.createElement(element); // Create the type of element you pass in the parameters
  }

  function append(parent, el) {
    return parent.appendChild(el); // Append the second parameter(element) to the first one
  }

  fetch(url)
	.then( response => {
		return response.json();
	})
	.then( data => {
		let authors = data.results; // Get the results
			
		return authors.map( author => { // Map through the results and for each run the code below
			let li = createNode('li'), //  Create the elements we need
				img = createNode('img'),
				span = createNode('span');
			img.src = author.picture.large;  // large(128) | medium (72) | thumbnail
			span.innerHTML = `${author.name.first} ${author.name.last} ${author.nat}`; // Make the HTML of our span to be the first and last name of our author
			append(li, img); // Append all our elements
			append(li, span);
			if (author.nat === 'CA') {
				append(ul_canada, li);
			} else {
				append(ul_brazil, li);
			}
		})
	})
	.catch( err => {
		console.log("error");
		// If there is any error you will catch them here
	});
</script>
</html>